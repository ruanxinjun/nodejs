<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title></title>
<script type="text/javascript">
		
		var Dropdownlist = (function(){
			
			var $ = function(id){
				return document.getElementById(id);
			};
			var options = {
					items:[{"name":"浙江","id":1},{"name":"湖北","id":2}],
					cityitems:[
						{
							"provinceid":1,
							"subitems":[{"name":"温州","id":123},{"name":"绍兴","id":124}]
						},
						{
							"provinceid":2,
							"subitems":[{"name":"武汉","id":125},{"name":"宜昌","id":126}]
						}
					]
			};

			var _initdata  = function(datas){
				options = datas?datas:options;
			};

			var __addOptions = function(obj,text,value){
				$(obj).options.add(new Option(text,value));
			};

			var __loadCityData  = function(provinceid,city){
				var citydata = options.cityitems.find(function(model){
					return model.provinceid ==provinceid;
				});
				if(citydata){
					$(city).options.length=0;
					citydata.subitems.forEach(function(value,index){
					__addOptions(city,value.name,value.id);
					});
				};
			};

			var _binds = function(province,city){
				options.items.forEach(function(value,index){
					__addOptions(province,value.name,value.id);
				});
				$(province).onchange = function(){
					$('status').innerHTML = this.id+'-----：'+this.options[this.selectedIndex].text+',----:'+this.value;
					__loadCityData(this.value,city);
				};
				
			};

			return {
				initdata:_initdata,
				binds :_binds
			};
	})();

	window.onload=function(){
		
		var subdata = {
			items:[{"name":"陕西","id":6},{"name":"宁夏","id":7}]
		};


		Dropdownlist.initdata();
		Dropdownlist.binds('province','city');


		// var datas = {
		// 	copyright:"www.fackyou.com",
		// 	items:[{"name":"福建","id":3},{"name":"内蒙古","id":4}]
		// };
		// Dropdownlist.initdata(datas);
		// Dropdownlist.binds('city');
	}
</script>	
</head>
<body>
<select id="province"></select>
<select id="city"></select>
<div id="status"></div>	
</body>
</html>