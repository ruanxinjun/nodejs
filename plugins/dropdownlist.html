<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title></title>
<script type="text/javascript">
		
		'use strict'
		var Dropdownlist = (function(){
			
			var $ = function(id){
				return document.getElementById(id);
			};

			var options = {
					provinceitems:[{"name":"浙江","id":1},{"name":"湖北","id":2}],
					cityitems:[
						{
							"provinceid":1,
							"subitems":[{"name":"温州","id":123},{"name":"绍兴","id":124}]
						},
						{
							"provinceid":2,
							"subitems":[{"name":"武汉","id":125},{"name":"宜昌","id":126}]
						}
					]
			};

			var __addOptions = function(obj,text,value){
				$(obj).options.add(new Option(text,value));
			};

			var __getOptions= function(items,id){
				items.forEach(function(value,index){
					__addOptions(id,value.name,value.id);
				});
			};

			var __loadCityData  = function(provinceid,city){
				var citydata = options.cityitems.find(function(model){
					return model.provinceid ==provinceid;
				});
				if(citydata){
					$(city).options.length=0;
					__getOptions(citydata.subitems,city);
				};
			};

			var binds = function(province,city){
				__getOptions(options.provinceitems,province);
				$(province).onchange = function(){
					__loadCityData(this.value,city);
				};
				
			};

			return {
				Binds :binds
			};
	})();

	window.onload=function(){

		Dropdownlist.Binds('a','b');


		// var datas = {
		// 	copyright:"www.fackyou.com",
		// 	items:[{"name":"福建","id":3},{"name":"内蒙古","id":4}]
		// };
		// Dropdownlist.initdata(datas);
		// Dropdownlist.binds('city');
	}
</script>	
</head>
<body>
<select id="a"></select>
<select id="b"></select>
<div id="status"></div>	
</body>
</html>